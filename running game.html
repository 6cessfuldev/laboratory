<html><head> 
  <title>Sprint</title> 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> 
 <style type="text/css" id="dcoder_stylesheet">*{
  margin : 0;
  padding : 0;
}


.header {
  background-color : dcedc1;
  height : 80px;
  text-align : center;
}

.str {
  position : relative;
  top : 13;
  margin-left: 10px;
  font-size : 40px;
  width : 130px;
}

.playground {
  height : 410px;
  background-image : url("https://cdn.pixabay.com/photo/2017/08/13/05/46/football-2636300_1280.jpg");
  }

img {
  width : 100px;
  height : 100px;
}

.hen {
  position : absolute;
}

.fliped {
    transform:rotate(0deg);
  -moz-transform: scaleX(-1); 
  -o-transform: scaleX(-1); 
  -webkit-transform: scaleX(-1); 
  transform: scaleX(-1);   
  filter: 'FlipH';
  -ms-filter: "FlipH";
}

.people {
  height : 1500px;
  background-image : url("https://cdn.pixabay.com/photo/2015/01/12/18/25/stadium-597536_1280.jpg");
}

.modal {
  position : fixed;
  left: 0;
  top : 0;
  width : 100%;
  height : 100%;
  display : flex;
  justify-content : center;
  align-items : center;
}

.modal_overlay {
  background-color : rgba(0,0,0,0.6);
  width : 100%;
  height : 100%;
  position : absolute;
}

.modal_contents {
  position : relative;
  background-color : white;
  padding : 40px 80px;
  text-align : center;
  border-radius : 10px;
  top : 30px;
  width : 40%;
}

h1 {
  margin : 0;
}

.hidden {
  display : none;
}</style></head> 
 <body> 
  <div class="header"> 
   <label for="str">come back first!</label> 
   <input type="button" class="str" value="Start!"> 
  </div> 
  <div class="playground"> 
   <p> <img class="man" src="https://r7.pngwing.com/path/673/457/126/computer-icons-running-5k-run-clip-art-volleyball-3cff4d965e0b2f0155d1a778fd3dd51d.png"> </p> 
   <p> <img class="cow" src="http://pngimg.com/uploads/cow/cow_PNG2124.png"> </p> 
   <p> <img class="horse" src="http://pngimg.com/uploads/horse/horse_PNG325.png"></p> 
   <p> <img class="hen" src="https://r7.pngwing.com/path/935/958/575/rooster-chicken-cock-png-62562fa58fb7cef1123fb2e1dc3c84b0.png"></p> 
  </div> 
  <div class="people"></div> 
  <div class="modal hidden"> 
   <div class="modal_overlay"></div> 
   <div class="modal_contents"> 
    <h1>You are <span class="rank"></span></h1> 
    <button id="btn">X</button> 
   </div> 
  </div> 
 
<script type="text/javascript" id="dcoder_script">var closeModal = function(){
    $('.modal').addClass('hidden')
  };
  
$(function(){
  
//function

  var openModal = function(){
    $('.modal').removeClass('hidden')
  };
  /*
  var closeModal = function(){
    $('.modal').addClass('hidden')
  }; */
  $('#btn').attr('onclick','closeModal();')

  var horseMov = function(){
    $(".horse")
    .animate({marginLeft: "400px"}, 1000, "linear",function(){
      $(this).removeClass('fliped')
    })
    .animate({marginLeft: "700px"}, 1000, "linear",function(){
      $(this).addClass('fliped')
    })
  };
  
 var scoring = function(){
   let manCo = $('.man').css('marginLeft').replace('px','')
   let henCo = $('.hen').css('marginLeft').replace('px','')
   let horseCo = $('.horse').css('marginLeft').replace('px','')
   let cowCo =  $('.cow').css('marginLeft').replace('px','')
   let l=0;
   if (manCo<henCo) l++;
   if (manCo<horseCo) l++;
   if (manCo<cowCo) l++;
   switch (l) {
     case 3 :  return 'First!';
     case 2 :  return 'Second~';
     case 1 :  return 'third';
     case 0 :  return 'Loser..';
   }
   }
 
  // variation
  var i=0;
  var j=0;
  var k=0;
  
  $(".str").on("click", function(){
    if(j==0){
      for(j=0;j<8;j++){
        $(".cow").animate({marginLeft: "+=90px"}, 2000, "swing")
        }
      $('.cow')
      .animate({marginLeft: "+=100px"}, 1000, "swing", function(){
        $(this).addClass('fliped')
        })
      .animate({marginLeft: "0px"}, 200, "swing")
      
      $(".horse")
      .animate({marginLeft: "700px"}, 1000, "linear",function(){
         $(this).addClass('fliped')
         })
      for(k=0;k<5;k++){
        horseMov();
        }
      $('.horse').animate({marginLeft: "0px"}, 7000, "linear")
  
    $(".hen")
    .addClass('fliped')
    .animate({marginLeft: "750px"}, 1000, "swing" ,function(){
         $(this).removeClass('fliped')
          })
    .animate({marginLeft: "300px"}, 2000, "swing")
    .animate({marginTop: "-1000px"}, 200, "swing")
    .animate({marginLeft: "0px"}, 10000, "swing")
    .animate({marginTop: "0px"}, 1000, "swing");
}});
  var line ;
  $(".man").on("click", function(){
    if(i<22){
      i++;
      $(".man").animate({
        marginLeft: "+=40px"
      }, 100, "swing");
      if (i==22) {
        i++;
        $(this).addClass('fliped')  
      }
    } else if(i<44) {
      i++;
      $(".man").animate({
        marginLeft: "-=40px"
      }, 100, "swing", function(){
        scoring();
        });
    } else { 
      i++;
      $(".man").animate({
        marginLeft: "-=40px"
      }, 100, "swing", function(){
         $(this).addClass('fliped')
        $('.rank').html(scoring());
        openModal();
          });  
      
    }
  }); 
        
});</script></body></html>
